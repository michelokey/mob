!function(t){"use strict";function e(t){return t.substr(7,t.length-8).split(", ")}function n(t,e,n,i){return t/=i,t--,-n*(t*t*t*t-1)+e}function i(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");return e>0||navigator.userAgent.match(/Trident.*rv\:11\./)?!0:!1}var s=!1;s=i(),t.fn.initslide=function(i){function a(t){h.children(":nth-child("+(h.data("settings").currentIndex+1)+")").attr("id",""),g.currentIndex=t,h.children(":nth-child("+(h.data("settings").currentIndex+1)+")").attr("id","active")}function r(t){for(var e=0;e<h.children("li").length;e++)if(h.children(e).width()*e+h.children(e).width()/2-h.children(e).width()*h.data("settings").pan_threshold*l-d(0)>t)return e;return h.children("li").length-1}function d(t){return-(t*h.children("li").css("width").replace("px","")-(h.parent().css("width").replace("px","")-h.data("settings").initialLeft-h.children("li").css("width").replace("px",""))/2)}function o(t){if(!(t>=h.children("li").length||0>t)){a(t);var n,i=e(h.css("transform"));n=parseFloat(s?i[12]:i[4]),h.data("settings").currentPos=n,h.data("settings").currentLandPos=d(t),h.data("settings").countFrames=0,h.trigger("changeActiveItem"),cancelAnimationFrame(h.data("settings").slidesGlobalID),h.data("settings").slidesGlobalID=requestAnimationFrame(c)}}function c(){return h.trigger("changePos"),h.data("settings").currentPos-=n(h.data("settings").countFrames,0,h.data("settings").currentPos-h.data("settings").currentLandPos,h.data("settings").duration),h.data("settings").currentPos==h.data("settings").currentLandPos?void(h.data("settings").countFrames=0):(h.css("transform","translate3d("+h.data("settings").currentPos+"px,0px, 0px)"),h.data("settings").countFrames++,void(h.data("settings").slidesGlobalID=requestAnimationFrame(c)))}var l=0,u={duration:250,swipe_sensitivity:250,disable_slide:!1,disable_autowidth:!1,disable_scroll:!1,start:0,pan_threshold:.3,currentIndex:0,currentPos:0,begin:0,targetFrame:0,countFrames:0,currentLandPos:0,initialLeft:0,slidesGlobalID:0},g=t.extend({},u,i);this.data("settings",g);var h=t(this);h.data("settings").initialLeft=parseInt(h.css("left").replace("px","")),g.disable_autowidth||h.css("width",h.children("li").length*h.children("li").css("width").replace("px","")+10),h.css("transform","translate3d(0px, 0px, 0px)"),o(g.start);var f=new Hammer(h.get(0));f.on("panleft panright",function(t){l="panleft"==t.type?1:-1,g.disable_slide||(h.css("transform","translate3d("+(t.deltaX+h.data("settings").currentLandPos)+"px,0px, 0px)"),h.trigger("pan"),h.trigger("changePos"),cancelAnimationFrame(h.data("settings").slidesGlobalID))}),f.on("panend",function(t){if(!g.disable_slide){var n,i=e(h.css("transform"));n=parseFloat(s?i[12]:i[4]),o(r(t.velocityX*g.swipe_sensitivity-n))}}),h.children("li").mousedown(function(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()}),h.tapEvent();try{h.mousewheel(function(t){h.data("settings").disable_scroll||o(h.data("settings").currentIndex-t.deltaY)})}catch(p){}h.on("gotoSlide",function(t,e){o(e)})},t.fn.gotoSlide=function(t){this.trigger("gotoSlide",t)},t.fn.next=function(){this.gotoSlide(this.data("settings").currentIndex+1)},t.fn.previous=function(){this.gotoSlide(this.data("settings").currentIndex-1)},t.fn.reload=function(){this.data("settings").disable_autowidth||this.css("width",this.children("li").length*this.children("li").width()+10),this.gotoSlide(this.data("settings").currentIndex)},t.fn.add=function(t){this.append(t),this.tapEvent()},t.fn.getActiveIndex=function(){return this.data("settings").currentIndex},t.fn.getCurrentPos=function(){var t,n=e(this.css("transform"));return t=parseFloat(s?n[12]:n[4])},t.fn.tapEvent=function(){var e=this;try{e.children("li").hammer().bind("tap",function(){t(this).index()!=e.data("settings").currentIndex&&e.gotoSlide(t(this).index())})}catch(n){}}}(jQuery);
